---
Title: 'CODE BLUE 2018 レポ #codeblue_jp'
Category:
- 雑記
Date: 2018-11-03T18:18:23+09:00
IMAGE: /img/2018/11/03/img.jpg
---

<p>CODE BLUE 2018 というセキュリティに関するカンファレンスに行ってきたのでレポート</p>
<p><img class="magnifiable" src="/img/2018/11/03/img.jpg" /></p>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: auto;" title="世界トップクラスの専門家による日本発の情報セキュリティ国際会議「CODE BLUE」" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcodeblue.jp%2F2018%2F" frameborder="0" scrolling="no"></iframe></p>
<p> </p>
<p><!-- more --></p>
<p> </p>
<p>１階でブース出展してて、ブース内で説明員しつつ</p>
<p>人員がだぶついてきたら、たまに公演を聴きに行くというスタイル</p>
<p> </p>
<p>日本のカンファレンスだけども、講演者は英語なことが多め。</p>
<p>ただ同時通訳者がいて、ラジオみたいな機械のイヤホンで聞くことができる。</p>
<p><img class="magnifiable" src="https://lh3.googleusercontent.com/-CLrLMSOHrE4/W9qiX7r95_I/AAAAAAABiFc/EK6O_DXxiTgkIrpKhLVetXXnBQ_E2F1iQCE0YBhgL/s1024/IMG_20181101_101418.jpg" width="320" /></p>
<p> </p>
<p>以下、聴いた講演のざっくりまとめ</p>
<p> </p>

### 基調講演：Cyber Arms Race

<p>セキュリティエンジニアがこれからどういう役割を担っていくのかって話</p>
<p> </p>
<p>お金を盗むならたくさんお金あるとこがいいが、銀行はセキュリティがかなり万全になってきた。<br />というわけで最近の標的は仮想通貨や新興fintec。銀行より楽で額は同じ。</p>
<p>北朝鮮とかは国単位でお金盗もうとしてるよね。</p>
<p> </p>
<p>スパイ活動はオンラインに移ったのではない、オンラインに広がったのだ（エモい）</p>
<p> </p>
<p>水陸空に加えてオンラインが加わったということ。<br />例えばロシア対ウクライナでサイバー兵器が使われてる。<br />効果的で安いし、誰が使ったかわからないのがサイバー兵器の素晴らしい点</p>
<p> </p>
<p>一度攻撃が成功すると、森林火災のように感染が広がって4000台が一瞬で死ぬ<br />リモート接続できないので、サーバのあるとこに行かないといけなくなる </p>
<p>時間はかかるわ人員確保できないわで大変。</p>
<p>ウクライナの企業だけでなく、ウクライナと取引をしてた企業にまで被害<br />ウクライナでビジネスをするとサイバー攻撃されるぞ、という攻撃者からのメッセージ。攻撃が大成功してますよね。 </p>
<p> </p>
<p>企業がハッキングされたことの気づくのに平均200日かかる。</p>
<p>最近の狙いはIoT機器。</p>
<p>冷蔵庫がハッキングされても別に問題ないわ、と思ってる人も多そうだが、攻撃者は別に冷蔵庫の中身に興味があるわけではなく、そこからネットワーク全体への攻撃起点として使う。</p>
<p>給湯器に組み込まれたコンピュータをDDos攻撃のメンバーに加えたりする。<br /><br />ALL COMPANIES ARE SOFTWARE COMPANES だ</p>
<p> </p>
<p>そんなエモエモな感じの講演。Twitter見てる感じ、刺さったセキュリティエンジニアのひと多めだった気がする。</p>
<p> </p>
<p> </p>

### Windowsの不正ログインを発見する

<p>JPCERTの人による講演</p>
<p>年間２万のインシデント報告を受けているが、いろんなサーバとかに感染がひろがってるので原因究明が大変</p>
<p>Active Directoryのイベントログを分析して、侵入されたホストを特定していこう。</p>
<p> </p>
<p>で、いざ調査となったときに<br />・Pass the Ticketではwinにログオンのログが残らない<br />・イベントビューアでインシデント調査は大変<br />・イベントログのデータサイズ多いので検証大変<br />・SIEMでは統計は見やすいが不正なログは見つけにくい</p>
<p><br />不正なwinのログオンを見つけるには<br />1ホスト1アカウントなら複数ホストへのアクセスがあったときに、視覚化しているとすぐわかる。<br />でも、実際やってみると可視化もごっちゃごちゃしてる。<br />可視化はサポートにはなるが、完璧なソリューションではない。</p>
<p><br />疑わしいものを自動でリストアップする仕組み→自動分析させたい。<br />Lateral Movementの共通点は2つ。<br />・コマンドを使う。ドメイン管理者をつかう<br />・同じアカウントでログオンを繰り返す<br />共通点を自動分析に適用してみよう</p>
<p><br />たくさんのホストにログインしている→あやしい→ネットワーク理論の中心性を使えば抽出できるのでは<br />Windowsログオンは3つの状態を持つので、隠れマルコフモデルをつかって状態遷移のエラーを把握する</p>
<p><br />そうしてできたのがLogonTracer。使ってみてね。</p>
<p><iframe class="embed-card embed-webcard" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: auto;" title="JPCERTCC/LogonTracer" src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2FJPCERTCC%2FLogonTracer" frameborder="0" scrolling="no"></iframe></p>
<p> </p>
<p> </p>

### GLitch: WebGLを使って携帯電話を攻撃する

<p>WebGlでメモリアクセスしまくってビット反転をできないかという内容</p>
<p>JavaScriptはモバイルで動く。</p>
<p>WebGLならGPUを動かせるので、新たなAttackVectorになりうるぞ！という注意喚起の講演。<br /><br /></p>
<p> </p>

### 契約に関わるセキュリティの罪の十戒

<p>契約書にセキュリティの条項がないと、後々つらいよって話。</p>
<p><br />セキュリティには開発の時から考えておく。<br />セキュリティはITビジネスの本質に関わってくる。</p>
<p><br />多くの契約書には〝カスタマーのセキュリティ方針に準拠する〟と書いてるが、実際の運用は適当。</p>
<p>セキュリティポリシーのバージョンや該当する箇所が収められている場所も特定されていないことがほとんど。</p>
<p>なんなら、相手のポリシーをだれも読んでないことすら多々ある。</p>
<p> </p>
<p>そして、セキュリティポリシーを更新したときどうするのかを前もって決めておく。</p>
<p>でないとポリシーがかわるたびに説明・交渉しにいかないといけない。ほんと大変。</p>
<p>説明や交渉、アップデートしたときにかかるコストが誰にかかるのかを考えないといけない。</p>
<p>GDPR PCI-DSS とか に準拠する、と書いてるときも多々あるが、こういった基準が適用するスコープ・範囲を定義しておく必要があるのと、基準が更新されたときにどうするのか、更新にかかる労力も誰が負担するのか考えておかないといけない。</p>
<p><br />盛り込まないでほしい言葉 → ベスト・プラクティス</p>
<p><br />誰が・どうやって・どのくらいの頻度で、ということを侵入テストや監査に対して決めて置いて、きちんと境界線を決めておかないといけない。</p>
<p>監査の頻度や作業量、超過時間のコストをだれが負担するのか。<br />本番に対して侵入テストしてもいいのか、devに対してだけなのか。<br />侵入テストでやっていいことやってはダメなこと。</p>
<p><br />例えば、本番に侵入テストをしてはいけないが侵入テストをしてしまったみたいなケースが過去あって、<br />で、脆弱性を衝いて侵入できてしまった。こういうときどうなるのか。</p>
<p><br />必ず問題は起きる。</p>
<p>どうせエスカレーションのときに関わることになるんだし、契約書作成の段階から関わろう。契約書のテンプレートを作る段階から関わっていこう。</p>
<p>いい契約書はデリバリする人が関わって作られた契約書。</p>
<p> </p>

### サイバー防御に活用できるOSINTの手法と実践

<p>公開情報を見て脆弱性対策するにはどうすれば？という講演</p>
<p>OSINT ＝ 公開情報をもとに作られる読み手に合わせたインテリジェンス</p>
<p>広く浅く情報を収集して、（ソースが公開情報なので）コミュニティに反映できるのがOSINT</p>
<p> </p>

### なんてFaxだ?!

<p>Fax機能付き複合機の脆弱性をついて、つながってるWindowsの「電卓」アプリをリモートから起動するまでのデモ。</p>
<p>CVE-2018-5924、CVE-2018-5925 についての詳細な説明。</p>
<p> </p>
<p>Microsoftのコンタクトページやトランプ大統領のページにもFax番号書いてる。</p>
<p>なんで2018年にもなって、みんなFax使ってるの？</p>
<p><br />Faxを使わないなら電話回線から外しておく。<br />そして、Faxは独立したネットワークに置いておく。</p>
<p> </p>

### 感想

<p><img class="hatena-fotolife" title="f:id:alfe1025:20181101120827j:plain" src="https://cdn-ak.f.st-hatena.com/images/fotolife/a/alfe1025/20181101/20181101120827.jpg" alt="f:id:alfe1025:20181101120827j:plain" /></p>
<p>今回 CODE BLUE初参加だったんですが、やばい人がやばいほどいる、みたいな語彙力皆無な感想しか出てきませんでした。</p>
<p>コードをバイナリから読んで、バイナリ見るだけでファイルの拡張子把握できて、メモリ領域に何が入ってるか把握してて、GPUやIoTといった発展途中のものからFaxみたいな枯れ切った技術にまで脆弱性を見つけてエクスプロイトする。そんなひとがごろごろいるわけですよ。なにそれこわい。</p>
<p>冗談抜きで、参加していたエンジニアが力を合わせたら一国のインフラ滅ぶと思う</p>
<p> </p>
<p>WebGLすらThreejs経由な、アセンブリも大学でちょっと勉強しただけ、というアマチュアエンジニアなので、もうすこし低レイヤーについても学んでおかないとなぁって思いました。まる。</p>
<p> <br /><iframe class="embed-card embed-blogcard" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: auto;" title="CES2018＆ラスベガス訪問記 - FUN YOU BLOG" src="https://hatenablog-parts.com/embed?url=http%3A%2F%2Fblog.alfebelow.com%2Fentry%2F2018%2F01%2F18%2FCES2018%25EF%25BC%2586%25E3%2583%25A9%25E3%2582%25B9%25E3%2583%2599%25E3%2582%25AC%25E3%2582%25B9%25E8%25A8%25AA%25E5%2595%258F%25E8%25A8%2598" frameborder="0" scrolling="no"></iframe><cite class="hatena-citation"><a href="/entry/2018/01/18/CES2018%EF%BC%86%E3%83%A9%E3%82%B9%E3%83%99%E3%82%AC%E3%82%B9%E8%A8%AA%E5%95%8F%E8%A8%98">blog.alfebelow.com</a></cite></p>
